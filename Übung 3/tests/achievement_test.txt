REM curl test script of UGNM service.
REM
REM Tests resources /achievements and /achievements/{id} including all supported HTTP operations
REM and all possible responses. Unsupported operations are not explicitly tested.

REM get all achievements
curl http://localhost:8080/ugnm-service/resources/achievements/ -v -X GET

REM create new achievements with id "4"
curl -v -X PUT http://localhost:8080/ugnm-service/resources/achievements/ -H "Content-Type: application/json" -d "{'id':4,'description':'Neues Test-Achievement','name':'Achievement4','url':'/achievements/4'}" --user sven.hausburg@rwth-aachen.de:abc123

REM try to create new achievements with id "4" again. Should result in conflict.
curl -v -X PUT http://localhost:8080/ugnm-service/resources/achievements/ -H "Content-Type: application/json" -d "{'id':4,'description':'Neues Test-Achievement','name':'Achievement4','url':'/achievements/4'}" --user sven.hausburg@rwth-aachen.de:abc123

REM try to create new achievements with missing parameter.
curl http://localhost:8080/ugnm-service/resources/achievements -v -X PUT -H "Content-Type: application/json" -d "{'id':5}" --user sven.hausburg@rwth-aachen.de:abc123

REM get non-existing achievements
curl http://localhost:8080/ugnm-service/resources/achievements/idonotexist -v -X GET

REM get data of achievements "4"
curl http://localhost:8080/ugnm-service/resources/achievements/4 -v -X GET

REM update data of achievements "4" without data.
curl http://localhost:8080/ugnm-service/resources/achievements/4 -v -X PUT -H "Content-Type: application/json" -d "{}" --user sven.hausburg@rwth-aachen.de:abc123

REM update data of achievements "4"
curl http://localhost:8080/ugnm-service/resources/achievements/4 -v -X PUT -H "Content-Type: application/json" -d "{'id':4,'description':'Neues Test-Achievement Update','name':'Achievement4','url':'/achievements/4Upd'}" --user sven.hausburg@rwth-aachen.de:abc123

REM get updated data of achievements "4"
curl http://localhost:8080/ugnm-service/resources/achievements/4 -v -X GET

REM update data of non-existing achievements
curl http://localhost:8080/ugnm-service/resources/achievements/0 -v -X PUT -H "Content-Type: application/json" -d "{'id':0,'description':'not exist','name':'idnotexist','url':'/achievements/0nex'}"  --user sven.hausburg@rwth-aachen.de:abc123

REM delete achievements "4" without authorization
curl http://localhost:8080/ugnm-service/resources/achievements/4 -v -X DELETE


REM delete achievements "4" - success
curl http://localhost:8080/ugnm-service/resources/achievements/4 -v -X DELETE --user sven.hausburg@rwth-aachen.de:abc123

REM delete non-existing achievements "4" (was deleted before)
curl http://localhost:8080/ugnm-service/resources/achievements/4 -v -X DELETE --user sven.hausburg@rwth-aachen.de:abc123

